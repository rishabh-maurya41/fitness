<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Health Profile Input</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
  </head>

  <body>
    <div>
      <div class="image-container">
        <!-- <img src="{{ url_for('static', filename='health-hero.jpg') }}" alt="Health Logo" /> -->
        <div style="width: 100%; height: 300px">
          <div class="overlay"></div>
          <div class="centered-text">
            <h1 style="margin: 0">
              <i class="fa-solid fa-heart-pulse"></i>HealthTracker
            </h1>
            <span>Your personalized health tracker</span>
          </div>
        </div>

        <div class="health-assessment-card form-container">
          <div class="header-row">
            <span class="health-icon">ðŸ©º</span>
            <span class="health-title">Health Assessment</span>
          </div>
          <p class="subtitle">
            Enter your health metrics for personalized insights
          </p>
          <form method="post" action="/input">
            <div class="form-row">
              <div class="form-group">
                <label for="weight">Weight (kg)</label>
                <input type="number" id="weight" name="weight" required />
              </div>
              <div class="form-group">
                <label for="height">Height (cm)</label>
                <input type="number" id="height" name="height" required />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="age">Age</label>
                <input type="number" id="age" name="age" required />
              </div>
              <div class="form-group">
                <label for="gender">Gender</label>
                <select id="gender" name="gender">
                  <option>Select gender</option>
                  <option>Male</option>
                  <option>Female</option>
                  <option>Other</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="sleep">Sleep Duration (hours)</label>
                <input type="number" id="sleep" name="sleep" required />
              </div>
              <div class="form-group">
                <label for="water">Water Intake (liters)</label>
                <input type="number" id="water" name="water" required />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group full-width">
                <label for="exercise">Exercise Duration (minutes)</label>
                <input type="number" id="exercise" name="exercise" required />
              </div>
            </div>
            <button class="gradient-btn" type="submit">
              Analyze Health Metrics
            </button>
          </form>
        </div>
      </div>

      {% if result %}
      <div class="result-section">
        <div class="score-card">
          <div class="score-header">
            <i class="fa fa-heartbeat"></i>
            <span>Your Health Score</span>
            <div class="score-subtext">
              Based on WHO and clinical health guidelines
            </div>
          </div>
          <div class="score-value">{{ result.score }}</div>
          <div class="score-label {{ result.classification|lower }}">
            {{ result.classification }}
          </div>
          <div class="score-progress">
            <div
              class="score-bar"
              style="width: {{ 0 if result.score < 0 else (100 if result.score > 100 else result.score|int) }}%;"
            ></div>
          </div>
          <hr />
          <div class="score-details-row">
            <div class="score-detail">
              <i class="fa fa-user"></i>
              <div class="detail-title">AGE &amp; GENDER</div>
              <div class="detail-value">
                <b>{{ result.age }} years</b> ({{ result.gender }})
              </div>
            </div>
            <div class="score-detail">
              <i class="fa fa-balance-scale"></i>
              <div class="detail-title">BMI STATUS</div>
              <div class="detail-value">
                <b>{{ result.bmi }}</b> ({{ result.bmi_status }})
              </div>
            </div>
            <div class="score-detail">
              <i class="fa fa-tint"></i>
              <div class="detail-title">HYDRATION</div>
              <div class="detail-value"><b>{{ result.water }}L</b></div>
            </div>
            <div class="score-detail">
              <i class="fa fa-male"></i>
              <div class="detail-title">ACTIVITY</div>
              <div class="detail-value"><b>{{ result.exercise }}min</b></div>
            </div>
            <div class="score-detail">
              <i class="fa fa-moon"></i>
              <div class="detail-title">SLEEP</div>
              <div class="detail-value"><b>{{ result.sleep }}h</b></div>
            </div>
          </div>
        </div>

        <div class="recommendations-card">
          <div class="recommendations-header">
            <i class="fa fa-lightbulb"></i>
            <span>Model Recommendation (from training data)</span>
          </div>

         
          <div class="recommendation-box">
            <i class="fa fa-check recommendation-icon"></i>
            <span>{{ result.gemini  }}</span>
          </div>
        
        </div>
        <div class="recommendations-card">
          <div class="recommendations-header">
            <i class="fa fa-lightbulb"></i>
            <span>Evidence-Based Recommendations</span>
            <div class="recommendations-subtext">
              Personalized guidance based on WHO, NIH, and clinical research
            </div>
          </div>

          {% for suggestion in result.personal.split('\n') %}
          <div class="recommendation-box">
            <i class="fa fa-check recommendation-icon"></i>
            <span>{{ suggestion }}</span>
          </div>
          {% endfor %}
        </div>
      </div>
      {% endif %}
    </div>
  </body>
</html>
